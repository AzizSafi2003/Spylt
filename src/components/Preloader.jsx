import { useEffect, useState, useRef } from "react";
import gsap from "gsap";

const Preloader = ({ onComplete }) => {
  const [progress, setProgress] = useState(0);
  const containerRef = useRef(null);
  const logoRef = useRef(null);
  const progressBarRef = useRef(null);

  useEffect(() => {
    const ctx = gsap.context(() => {
      const tl = gsap.timeline({
        onComplete: () => {
          // Fade out preloader when complete
          gsap.to(containerRef.current, {
            opacity: 0,
            duration: 0.8,
            ease: "power2.inOut",
            onComplete: () => {
              onComplete?.();
            },
          });
        },
      });

      // Animate progress from 0 to 100
      const progressObj = { value: 0 };

      tl.to(
        progressObj,
        {
          value: 100,
          duration: 3.5,
          ease: "power2.inOut",
          onUpdate: () => {
            setProgress(Math.round(progressObj.value));
          },
        },
        0,
      );

      // Animate progress bar width
      tl.fromTo(
        progressBarRef.current,
        { scaleX: 0 },
        {
          scaleX: 1,
          duration: 3.5,
          ease: "power2.inOut",
          transformOrigin: "left center",
        },
        0,
      );

      // Animate logo base paths drawing in (golden stroke)
      const basePaths = logoRef.current.querySelectorAll(".logo-base-path");

      tl.fromTo(
        basePaths,
        {
          strokeDashoffset: 500,
          fillOpacity: 0,
        },
        {
          strokeDashoffset: 0,
          fillOpacity: 1,
          duration: 2,
          stagger: 0.12,
          ease: "power3.inOut",
        },
        0.3,
      );

      // Animate cream overlay paths revealing
      const overlayPaths =
        logoRef.current.querySelectorAll(".logo-overlay-path");

      tl.fromTo(
        overlayPaths,
        {
          clipPath: "inset(0 100% 0 0)",
        },
        {
          clipPath: "inset(0 0% 0 0)",
          duration: 1.5,
          stagger: 0.12,
          ease: "power2.inOut",
        },
        1.0,
      );

      // Fade out golden stroke after cream fills in
      tl.to(
        basePaths,
        {
          strokeOpacity: 0,
          duration: 0.8,
          ease: "power2.inOut",
        },
        2.5,
      );
    }, containerRef);

    return () => ctx.revert();
  }, [onComplete]);

  return (
    <div
      ref={containerRef}
      className="fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-[#7f3b2d]"
    >
      {/* Logo Container */}
      <div
        ref={logoRef}
        className="relative w-[280px] h-[92px] md:w-[400px] md:h-[130px]"
      >
        <svg
          viewBox="0 0 264 87"
          className="w-full h-full"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          {/* Base layer - Yellow/Gold color (#e3a458) with stroke animation */}
          <g className="logo-base">
            {/* t */}
            <path
              className="logo-base-path"
              d="M262.511 2.34088L261.269 8.43658L260.252 13.7481V13.7491C259.874 15.7122 259.533 17.2696 259.227 18.4161L259.153 18.6944L258.876 18.7696C258.034 18.9993 257.191 19.1905 256.348 19.3438C255.505 19.4971 254.661 19.6128 253.817 19.6895C253.004 19.7634 252.152 19.8733 251.262 20.0215C250.544 20.152 249.827 20.2827 249.109 20.4131C248.01 25.8413 247.092 30.5459 246.354 34.5274L246.355 34.5284C245.678 38.5954 245.037 42.5119 244.435 46.2774C244.039 49.0472 243.58 52.0281 243.058 55.2198L242.513 58.4854C241.233 66.0868 240.104 73.8013 239.126 81.629L239.079 82.003L238.707 82.0616L218.367 85.2256L217.659 85.335L217.8 84.6329C218.629 80.4891 219.457 76.383 220.286 72.3145L220.287 72.3077C221.19 68.1688 222.018 64.1051 222.77 60.1172L222.771 60.1124C225.597 45.9845 227.907 32.4453 229.704 19.4952C229.051 19.4015 228.373 19.3526 227.669 19.3526H227.648L227.628 19.3506C226.75 19.2775 225.913 19.2782 225.115 19.3506H225.111C223.233 19.5071 221.393 19.2719 219.595 18.6465L219.213 18.5137L219.263 18.1124C219.335 17.5325 219.372 16.9126 219.372 16.253V11.6202C219.372 10.7765 219.41 9.96863 219.487 9.19733C219.561 8.38641 219.598 7.53689 219.598 6.6485C219.598 5.65633 219.637 4.66399 219.713 3.67194L219.751 3.17291L220.249 3.21198C222.201 3.36215 224.154 3.47478 226.106 3.54987C228.059 3.62495 230.011 3.66217 231.963 3.66217C237.526 3.66217 242.825 3.47433 247.858 3.09869H247.859C252.975 2.72252 257.675 2.27135 261.96 1.74518L262.649 1.66022L262.511 2.34088Z"
              stroke="#e3a458"
              strokeWidth="2"
              strokeDasharray="500"
              strokeDashoffset="500"
              fill="#e3a458"
            />
            {/* l */}
            <path
              className="logo-base-path"
              d="M204.322 1.56257L198.446 27.1007L198.445 27.1036C197.391 31.5453 196.299 36.3269 195.169 41.4473C194.116 46.4899 193.138 51.382 192.235 56.1231C191.382 60.6011 190.697 64.6064 190.181 68.1397C191.413 68.053 192.691 67.998 194.015 67.9737L195.585 67.9591C197.767 67.884 199.688 67.8467 201.348 67.8467H201.826L201.848 68.3243C201.923 70.0436 202.072 71.8778 202.297 73.8262H202.296C202.521 75.6991 202.746 77.3453 202.97 78.7657C203.119 79.4357 203.231 79.9606 203.307 80.3389C203.345 80.5293 203.375 80.6861 203.395 80.8067C203.412 80.9124 203.43 81.0292 203.43 81.1153V81.6153H202.026C201.765 81.6153 201.481 81.5741 201.178 81.502H199.427C196.506 81.502 193.243 81.6518 189.638 81.9522L189.628 81.9532C186.105 82.1781 182.581 82.5907 179.058 83.1905L179.049 83.1915C175.606 83.7155 172.506 84.4252 169.749 85.3194L168.989 85.5665L169.1 84.7755C169.929 78.8224 170.795 72.8312 171.699 66.8028L171.7 66.7969L172.435 62.3184C173.17 57.8815 173.905 53.5716 174.64 49.3887L174.641 49.3839C175.696 43.7322 176.675 38.6447 177.579 34.1221C178.558 29.2265 179.538 24.2554 180.517 19.2091C181.497 14.1598 182.515 9.07281 183.57 3.94831L183.641 3.59968L183.993 3.55378L203.769 0.95417L204.483 0.86042L204.322 1.56257Z"
              stroke="#e3a458"
              strokeWidth="2"
              strokeDasharray="500"
              strokeDashoffset="500"
              fill="#e3a458"
            />
            {/* y */}
            <path
              className="logo-base-path"
              d="M143.789 15.2364C143.789 19.6084 143.752 23.5675 143.677 27.1124V33.5108C144.431 31.491 145.276 29.1853 146.209 26.5928L146.212 26.585C147.642 22.8234 148.958 19.1745 150.161 15.6397L150.163 15.6329H150.164C150.916 13.5286 151.63 11.4244 152.306 9.32038L152.309 9.31062C153.061 7.12941 153.813 4.87233 154.566 2.54011L154.706 2.10456L155.152 2.20515L172.667 6.16022L173.292 6.30183L173.003 6.87409C169.766 13.2739 166.603 19.7115 163.516 26.1866C161.707 30.1819 159.71 34.4024 157.525 38.8477C155.416 43.2151 153.419 47.3184 151.536 51.1592L151.537 51.1602C149.744 54.8958 148.322 57.8892 147.271 60.1407C146.894 62.0902 146.407 64.2215 145.811 66.5342L145.812 66.5352C145.284 68.8739 144.755 71.1006 144.227 73.2139C143.924 74.4262 143.583 75.6755 143.204 76.962L143.202 76.9708C142.827 78.1732 142.45 79.4134 142.075 80.6915L141.982 81.0069L141.656 81.0469L122.332 83.42L121.625 83.5059L121.784 82.8116L126.969 60.1544C126.968 54.833 126.819 49.3991 126.519 43.8526L126.518 43.8448C126.292 38.1995 125.991 32.5914 125.615 27.0216V27.0157C125.313 21.4439 125.013 16.9677 124.712 13.586L124.711 13.5743C124.598 11.8794 124.513 10.6083 124.456 9.76081C124.428 9.33728 124.407 9.01956 124.393 8.80769L124.373 8.50983C124.373 8.50321 124.373 8.49752 124.372 8.49421V8.48933L124.347 8.12019L124.693 7.98933L143.112 0.982491L143.789 0.724678V15.2364Z"
              stroke="#e3a458"
              strokeWidth="2"
              strokeDasharray="500"
              strokeDashoffset="500"
              fill="#e3a458"
            />
            {/* p */}
            <path
              className="logo-base-path"
              d="M94.2579 0.724266C98.8414 0.724266 102.534 1.71658 105.283 3.75552H105.284C108.01 5.70245 109.953 8.35075 111.115 11.6813C112.266 14.9795 112.838 18.577 112.838 22.4684C112.838 26.7495 112.034 30.879 110.43 34.8541L110.431 34.8551C108.904 38.7479 106.804 42.2616 104.131 45.3932L104.13 45.3922C101.531 48.525 98.508 51.0126 95.0617 52.8512L95.0626 52.8522C91.6779 54.6984 88.1303 55.6256 84.4269 55.6256H83.5822C83.0157 58.0699 82.4811 60.7193 81.9816 63.5739C81.4549 66.5833 81.0039 69.3665 80.6281 71.9225L80.6261 71.9352L80.6232 71.9469C80.3235 73.4456 80.0618 74.9446 79.8371 76.443C79.7241 77.1963 79.6112 77.9504 79.4982 78.7038C79.3852 79.457 79.2723 80.2103 79.1593 80.9635L79.1066 81.3122L78.7609 81.3795L59.2121 85.2223L58.4611 85.3698L58.6271 84.6227C60.8867 74.4546 63.033 64.5124 65.0665 54.7965L65.0675 54.7956C65.8952 50.8827 66.7229 46.7054 67.5509 42.2643L67.5519 42.2584C68.4558 37.739 69.3599 33.1814 70.2638 28.5866C71.1673 23.9937 71.9953 19.6646 72.7482 15.5993L73.2843 12.5934C73.7922 9.68742 74.2157 7.07918 74.5538 4.76821L74.5997 4.45278L74.9044 4.36098C77.9316 3.45285 81.1839 2.6216 84.6603 1.86587L84.6622 1.86489C88.2274 1.10635 91.4272 0.724305 94.2579 0.724266ZM91.0607 15.4196C90.256 20.2323 89.4524 24.7972 88.6476 29.1139C87.8644 33.3148 87.0126 37.7844 86.0949 42.5231C87.4622 41.9952 88.859 41.0083 90.2814 39.5241C91.9617 37.6954 93.3605 35.3807 94.4708 32.568C95.5755 29.7696 96.1309 26.7061 96.131 23.3727C96.131 20.6538 95.5063 18.6834 94.338 17.3776L94.3283 17.3659C93.3135 16.1608 92.2258 15.5385 91.0607 15.4196Z"
              stroke="#e3a458"
              strokeWidth="2"
              strokeDasharray="500"
              strokeDashoffset="500"
              fill="#e3a458"
            />
            {/* S */}
            <path
              className="logo-base-path"
              d="M43.2178 1.62827C45.9126 1.62828 48.4244 2.09044 50.7481 3.01987H50.7471C53.0969 3.88414 54.9847 5.33966 56.3975 7.38022C57.83 9.44943 58.5206 12.1977 58.5206 15.5755C58.5205 16.115 58.4816 16.654 58.4063 17.1927C58.4046 17.7321 58.367 18.2712 58.2901 18.8099C58.2132 19.3483 58.097 19.9206 57.9463 20.5267C57.8725 21.0445 57.7996 21.5999 57.7256 22.1917L57.6846 22.5179L57.3692 22.6097L40.9834 27.3558L40.1485 27.597L40.3594 26.7542C40.5053 26.1706 40.6148 25.5875 40.6875 25.0052L40.6915 24.9749L40.6983 24.9456C40.8393 24.3815 40.9092 23.8196 40.9092 23.2591C40.9092 21.0363 40.4977 19.565 39.7852 18.723L39.7715 18.7074L39.7598 18.6908C39.099 17.7657 38.2321 17.3187 37.1153 17.3187C36.5833 17.3189 35.7064 17.6294 34.4317 18.3792L34.4219 18.3851L34.4112 18.39C33.1968 19.0329 32.0792 19.9675 31.0606 21.2044C30.1528 22.3229 29.7061 23.5675 29.7061 24.9544C29.7061 27.2763 30.6441 29.206 32.5616 30.7728C34.6528 32.3409 37.0455 33.9493 39.7413 35.597C41.0748 36.3815 42.5404 37.6201 44.1358 39.2904C45.7784 40.933 47.1675 43.1809 48.3145 46.0101H48.3135C49.5526 48.8058 50.1582 52.3798 50.1582 56.7074C50.1582 62.367 48.7418 67.3589 45.8975 71.6664L45.8985 71.6673C43.1368 75.9633 39.3775 79.3366 34.6329 81.7855L34.627 81.7884C29.8814 84.1612 24.6439 85.3441 18.9229 85.3441C15.8187 85.3441 12.726 84.529 9.65044 82.9144L9.64165 82.9095C6.55445 81.2116 3.60561 78.5614 0.789108 74.9837L0.590866 74.7318L0.736374 74.4466L9.09868 58.0619L9.51567 57.2435L9.97661 58.0384C10.7669 59.4035 11.9244 60.7127 13.4649 61.9613C15.0898 63.2169 16.7851 64.2113 18.5499 64.9466C20.3257 65.6866 21.8012 66.0383 22.9903 66.0384C24.8388 66.0384 26.5865 65.4715 28.2422 64.3197L28.25 64.3138C29.9302 63.1937 30.7393 61.725 30.7393 59.8714C30.7393 57.408 29.6204 55.1238 27.2881 53.0101C24.8949 50.8412 22.1995 48.7066 19.2012 46.6078L19.1963 46.6048C16.2323 44.4768 13.4962 42.0821 10.9883 39.4222L10.9825 39.4173L10.9776 39.4115C8.48986 36.6127 7.2354 33.4067 7.2354 29.8128C7.23548 25.7927 8.39789 22.0794 10.7129 18.6839C13.0104 15.2389 15.9936 12.2578 19.6563 9.73959C23.0809 7.31455 26.7084 5.42275 30.5381 4.06577L31.3077 3.80112C35.492 2.35614 39.4632 1.62827 43.2178 1.62827Z"
              stroke="#e3a458"
              strokeWidth="2"
              strokeDasharray="500"
              strokeDashoffset="500"
              fill="#e3a458"
            />
          </g>

          {/* Overlay layer - Cream/White color (#faeade) with clip-path animation */}
          <g className="logo-overlay">
            {/* t overlay */}
            <path
              className="logo-overlay-path"
              d="M262.511 2.34088L261.269 8.43658L260.252 13.7481V13.7491C259.874 15.7122 259.533 17.2696 259.227 18.4161L259.153 18.6944L258.876 18.7696C258.034 18.9993 257.191 19.1905 256.348 19.3438C255.505 19.4971 254.661 19.6128 253.817 19.6895C253.004 19.7634 252.152 19.8733 251.262 20.0215C250.544 20.152 249.827 20.2827 249.109 20.4131C248.01 25.8413 247.092 30.5459 246.354 34.5274L246.355 34.5284C245.678 38.5954 245.037 42.5119 244.435 46.2774C244.039 49.0472 243.58 52.0281 243.058 55.2198L242.513 58.4854C241.233 66.0868 240.104 73.8013 239.126 81.629L239.079 82.003L238.707 82.0616L218.367 85.2256L217.659 85.335L217.8 84.6329C218.629 80.4891 219.457 76.383 220.286 72.3145L220.287 72.3077C221.19 68.1688 222.018 64.1051 222.77 60.1172L222.771 60.1124C225.597 45.9845 227.907 32.4453 229.704 19.4952C229.051 19.4015 228.373 19.3526 227.669 19.3526H227.648L227.628 19.3506C226.75 19.2775 225.913 19.2782 225.115 19.3506H225.111C223.233 19.5071 221.393 19.2719 219.595 18.6465L219.213 18.5137L219.263 18.1124C219.335 17.5325 219.372 16.9126 219.372 16.253V11.6202C219.372 10.7765 219.41 9.96863 219.487 9.19733C219.561 8.38641 219.598 7.53689 219.598 6.6485C219.598 5.65633 219.637 4.66399 219.713 3.67194L219.751 3.17291L220.249 3.21198C222.201 3.36215 224.154 3.47478 226.106 3.54987C228.059 3.62495 230.011 3.66217 231.963 3.66217C237.526 3.66217 242.825 3.47433 247.858 3.09869H247.859C252.975 2.72252 257.675 2.27135 261.96 1.74518L262.649 1.66022L262.511 2.34088Z"
              fill="#faeade"
            />
            {/* l overlay */}
            <path
              className="logo-overlay-path"
              d="M204.322 1.56257L198.446 27.1007L198.445 27.1036C197.391 31.5453 196.299 36.3269 195.169 41.4473C194.116 46.4899 193.138 51.382 192.235 56.1231C191.382 60.6011 190.697 64.6064 190.181 68.1397C191.413 68.053 192.691 67.998 194.015 67.9737L195.585 67.9591C197.767 67.884 199.688 67.8467 201.348 67.8467H201.826L201.848 68.3243C201.923 70.0436 202.072 71.8778 202.297 73.8262H202.296C202.521 75.6991 202.746 77.3453 202.97 78.7657C203.119 79.4357 203.231 79.9606 203.307 80.3389C203.345 80.5293 203.375 80.6861 203.395 80.8067C203.412 80.9124 203.43 81.0292 203.43 81.1153V81.6153H202.026C201.765 81.6153 201.481 81.5741 201.178 81.502H199.427C196.506 81.502 193.243 81.6518 189.638 81.9522L189.628 81.9532C186.105 82.1781 182.581 82.5907 179.058 83.1905L179.049 83.1915C175.606 83.7155 172.506 84.4252 169.749 85.3194L168.989 85.5665L169.1 84.7755C169.929 78.8224 170.795 72.8312 171.699 66.8028L171.7 66.7969L172.435 62.3184C173.17 57.8815 173.905 53.5716 174.64 49.3887L174.641 49.3839C175.696 43.7322 176.675 38.6447 177.579 34.1221C178.558 29.2265 179.538 24.2554 180.517 19.2091C181.497 14.1598 182.515 9.07281 183.57 3.94831L183.641 3.59968L183.993 3.55378L203.769 0.95417L204.483 0.86042L204.322 1.56257Z"
              fill="#faeade"
            />
            {/* y overlay */}
            <path
              className="logo-overlay-path"
              d="M143.789 15.2364C143.789 19.6084 143.752 23.5675 143.677 27.1124V33.5108C144.431 31.491 145.276 29.1853 146.209 26.5928L146.212 26.585C147.642 22.8234 148.958 19.1745 150.161 15.6397L150.163 15.6329H150.164C150.916 13.5286 151.63 11.4244 152.306 9.32038L152.309 9.31062C153.061 7.12941 153.813 4.87233 154.566 2.54011L154.706 2.10456L155.152 2.20515L172.667 6.16022L173.292 6.30183L173.003 6.87409C169.766 13.2739 166.603 19.7115 163.516 26.1866C161.707 30.1819 159.71 34.4024 157.525 38.8477C155.416 43.2151 153.419 47.3184 151.536 51.1592L151.537 51.1602C149.744 54.8958 148.322 57.8892 147.271 60.1407C146.894 62.0902 146.407 64.2215 145.811 66.5342L145.812 66.5352C145.284 68.8739 144.755 71.1006 144.227 73.2139C143.924 74.4262 143.583 75.6755 143.204 76.962L143.202 76.9708C142.827 78.1732 142.45 79.4134 142.075 80.6915L141.982 81.0069L141.656 81.0469L122.332 83.42L121.625 83.5059L121.784 82.8116L126.969 60.1544C126.968 54.833 126.819 49.3991 126.519 43.8526L126.518 43.8448C126.292 38.1995 125.991 32.5914 125.615 27.0216V27.0157C125.313 21.4439 125.013 16.9677 124.712 13.586L124.711 13.5743C124.598 11.8794 124.513 10.6083 124.456 9.76081C124.428 9.33728 124.407 9.01956 124.393 8.80769L124.373 8.50983C124.373 8.50321 124.373 8.49752 124.372 8.49421V8.48933L124.347 8.12019L124.693 7.98933L143.112 0.982491L143.789 0.724678V15.2364Z"
              fill="#faeade"
            />
            {/* p overlay */}
            <path
              className="logo-overlay-path"
              d="M94.2579 0.724266C98.8414 0.724266 102.534 1.71658 105.283 3.75552H105.284C108.01 5.70245 109.953 8.35075 111.115 11.6813C112.266 14.9795 112.838 18.577 112.838 22.4684C112.838 26.7495 112.034 30.879 110.43 34.8541L110.431 34.8551C108.904 38.7479 106.804 42.2616 104.131 45.3932L104.13 45.3922C101.531 48.525 98.508 51.0126 95.0617 52.8512L95.0626 52.8522C91.6779 54.6984 88.1303 55.6256 84.4269 55.6256H83.5822C83.0157 58.0699 82.4811 60.7193 81.9816 63.5739C81.4549 66.5833 81.0039 69.3665 80.6281 71.9225L80.6261 71.9352L80.6232 71.9469C80.3235 73.4456 80.0618 74.9446 79.8371 76.443C79.7241 77.1963 79.6112 77.9504 79.4982 78.7038C79.3852 79.457 79.2723 80.2103 79.1593 80.9635L79.1066 81.3122L78.7609 81.3795L59.2121 85.2223L58.4611 85.3698L58.6271 84.6227C60.8867 74.4546 63.033 64.5124 65.0665 54.7965L65.0675 54.7956C65.8952 50.8827 66.7229 46.7054 67.5509 42.2643L67.5519 42.2584C68.4558 37.739 69.3599 33.1814 70.2638 28.5866C71.1673 23.9937 71.9953 19.6646 72.7482 15.5993L73.2843 12.5934C73.7922 9.68742 74.2157 7.07918 74.5538 4.76821L74.5997 4.45278L74.9044 4.36098C77.9316 3.45285 81.1839 2.6216 84.6603 1.86587L84.6622 1.86489C88.2274 1.10635 91.4272 0.724305 94.2579 0.724266ZM91.0607 15.4196C90.256 20.2323 89.4524 24.7972 88.6476 29.1139C87.8644 33.3148 87.0126 37.7844 86.0949 42.5231C87.4622 41.9952 88.859 41.0083 90.2814 39.5241C91.9617 37.6954 93.3605 35.3807 94.4708 32.568C95.5755 29.7696 96.1309 26.7061 96.131 23.3727C96.131 20.6538 95.5063 18.6834 94.338 17.3776L94.3283 17.3659C93.3135 16.1608 92.2258 15.5385 91.0607 15.4196Z"
              fill="#faeade"
            />
            {/* S overlay */}
            <path
              className="logo-overlay-path"
              d="M43.2178 1.62827C45.9126 1.62828 48.4244 2.09044 50.7481 3.01987H50.7471C53.0969 3.88414 54.9847 5.33966 56.3975 7.38022C57.83 9.44943 58.5206 12.1977 58.5206 15.5755C58.5205 16.115 58.4816 16.654 58.4063 17.1927C58.4046 17.7321 58.367 18.2712 58.2901 18.8099C58.2132 19.3483 58.097 19.9206 57.9463 20.5267C57.8725 21.0445 57.7996 21.5999 57.7256 22.1917L57.6846 22.5179L57.3692 22.6097L40.9834 27.3558L40.1485 27.597L40.3594 26.7542C40.5053 26.1706 40.6148 25.5875 40.6875 25.0052L40.6915 24.9749L40.6983 24.9456C40.8393 24.3815 40.9092 23.8196 40.9092 23.2591C40.9092 21.0363 40.4977 19.565 39.7852 18.723L39.7715 18.7074L39.7598 18.6908C39.099 17.7657 38.2321 17.3187 37.1153 17.3187C36.5833 17.3189 35.7064 17.6294 34.4317 18.3792L34.4219 18.3851L34.4112 18.39C33.1968 19.0329 32.0792 19.9675 31.0606 21.2044C30.1528 22.3229 29.7061 23.5675 29.7061 24.9544C29.7061 27.2763 30.6441 29.206 32.5616 30.7728C34.6528 32.3409 37.0455 33.9493 39.7413 35.597C41.0748 36.3815 42.5404 37.6201 44.1358 39.2904C45.7784 40.933 47.1675 43.1809 48.3145 46.0101H48.3135C49.5526 48.8058 50.1582 52.3798 50.1582 56.7074C50.1582 62.367 48.7418 67.3589 45.8975 71.6664L45.8985 71.6673C43.1368 75.9633 39.3775 79.3366 34.6329 81.7855L34.627 81.7884C29.8814 84.1612 24.6439 85.3441 18.9229 85.3441C15.8187 85.3441 12.726 84.529 9.65044 82.9144L9.64165 82.9095C6.55445 81.2116 3.60561 78.5614 0.789108 74.9837L0.590866 74.7318L0.736374 74.4466L9.09868 58.0619L9.51567 57.2435L9.97661 58.0384C10.7669 59.4035 11.9244 60.7127 13.4649 61.9613C15.0898 63.2169 16.7851 64.2113 18.5499 64.9466C20.3257 65.6866 21.8012 66.0383 22.9903 66.0384C24.8388 66.0384 26.5865 65.4715 28.2422 64.3197L28.25 64.3138C29.9302 63.1937 30.7393 61.725 30.7393 59.8714C30.7393 57.408 29.6204 55.1238 27.2881 53.0101C24.8949 50.8412 22.1995 48.7066 19.2012 46.6078L19.1963 46.6048C16.2323 44.4768 13.4962 42.0821 10.9883 39.4222L10.9825 39.4173L10.9776 39.4115C8.48986 36.6127 7.2354 33.4067 7.2354 29.8128C7.23548 25.7927 8.39789 22.0794 10.7129 18.6839C13.0104 15.2389 15.9936 12.2578 19.6563 9.73959C23.0809 7.31455 26.7084 5.42275 30.5381 4.06577L31.3077 3.80112C35.492 2.35614 39.4632 1.62827 43.2178 1.62827Z"
              fill="#faeade"
            />
          </g>
        </svg>
      </div>

      {/* Progress Section */}
      <div className="mt-12 flex flex-col items-center gap-3">
        {/* Progress Percentage */}
        <div className="text-[#faeade] font-paragraph text-xl md:text-2xl font-bold tracking-wider">
          {progress}%
        </div>

        {/* Progress Bar Container */}
        <div className="w-[180px] md:w-[250px] h-[2px] bg-[#faeade]/20 rounded-full overflow-hidden">
          {/* Progress Bar Fill */}
          <div
            ref={progressBarRef}
            className="h-full bg-[#faeade] rounded-full"
            style={{ transform: "scaleX(0)" }}
          />
        </div>
      </div>
    </div>
  );
};

export default Preloader;
